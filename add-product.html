<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: "Cairo", sans-serif;
            direction: rtl;
            padding: 20px;
            background: #f3f4f6;
        }

        .box {
            background: white;
            padding: 20px;
            border-radius: 16px;
            max-width: 600px;
            margin: auto;
            box-shadow: 0 4px 20px #00000015;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            margin: 12px 0;
            border-radius: 12px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 14px;
            border: none;
            background: #111;
            color: white;
            border-radius: 14px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="box">
    <h2>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>

    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
    <textarea id="description" placeholder="Ø§Ù„ÙˆØµÙ"></textarea>
    <input type="number" id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">

    <input type="text" id="imageURL" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">

    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù… -->
    <select id="category">
        <option value="" disabled selected>Ø§Ø®ØªØ± Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</option>
        <option value="chargers">ğŸ”Œ Ø§Ù„Ø´ÙˆØ§Ø­Ù†</option>
        <option value="cables">ğŸ”— Ø§Ù„ÙˆØµÙ„Ø§Øª</option>
        <option value="handsfree">ğŸ§ Ø§Ù„Ù‡Ø§Ù†Ø¯ÙØ±ÙŠ</option>
        <option value="screens">ğŸ“± Ø§Ù„Ø§Ø³ÙƒØ±ÙŠÙ†Ø§Øª</option>
        <option value="airpods">ğŸµ Ø§Ù„Ø§ÙŠØ±Ø¨ÙˆØ¯Ø²</option>
        <option value="speakers">ğŸ”Š Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª</option>
    </select>

    <button onclick="save()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="firebase.js"></script>

<script>

// âœ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ â€” Ø¨Ø¯ÙˆÙ†Ù‡Ø§ Firestore ÙŠØ±ÙØ¶ Ø§Ù„Ø­ÙØ¸
auth.onAuthStateChanged(user => {
    if (!user) {
        alert("âš  ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
        location.href = "index.html";
    }
});

function save(){
    let name = document.getElementById("name").value.trim();
    let description = document.getElementById("description").value.trim();
    let price = document.getElementById("price").value;
    let imageURL = document.getElementById("imageURL").value.trim();
    let category = document.getElementById("category").value;

    if(!name || !description || !price || !imageURL || !category){
        alert("âš  ÙŠØ¬Ø¨ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù…");
        return;
    }

    db.collection("products").add({
        name,
        description,
        price,
        imageURL,
        category,
        createdAt: new Date()
    }).then(()=>{
        alert("âœ” ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­");
        location.href = "products.html";
    }).catch(err=>{
        alert("âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸");
        console.log(err);
    });
}

</script>

</body>
</html>
