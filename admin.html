<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Maher Phone</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
    body {
        background: #f3f4f6;
        margin: 0;
        font-family: "Cairo", sans-serif;
    }
    header {
        background: #0d6efd;
        color: #fff;
        padding: 20px;
        text-align: center;
        font-size: 24px;
        font-weight: 700;
    }
    .container {
        max-width: 550px;
        background: #fff;
        margin: 30px auto;
        padding: 25px;
        border-radius: 14px;
        box-shadow: 0 5px 20px #00000020;
    }
    input, textarea {
        width: 100%;
        padding: 12px;
        margin-bottom: 12px;
        border: 1px solid #ddd;
        border-radius: 10px;
        font-size: 16px;
    }
    button {
        width: 100%;
        padding: 14px;
        background: #0d6efd;
        border: none;
        color: #fff;
        font-size: 18px;
        border-radius: 10px;
        cursor: pointer;
    }
    button:hover {
        background: #004fc0;
    }
</style>
</head>
<body>

<header>ğŸ“¦ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</header>

<div class="container">
    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
    <textarea id="description" placeholder="Ø§Ù„ÙˆØµÙ"></textarea>
    <input type="text" id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
    <input type="text" id="imageURL" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">

    <button onclick="addProduct()">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="firebase.js"></script>

<script>

// Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø£Ø¯Ù…Ù†
const ADMIN_EMAIL = "clever2251999@gmail.com";

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø¯Ù…Ù†
auth.onAuthStateChanged(user => {
    if (!user || user.email !== ADMIN_EMAIL) {
        alert("âŒ ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§");
        location.href = "products.html";
    }
});

// ÙˆØ¸ÙŠÙØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
function addProduct(){
    let name = document.getElementById("name").value;
    let description = document.getElementById("description").value;
    let price = document.getElementById("price").value;
    let imageURL = document.getElementById("imageURL").value;

    if(!name || !description || !price || !imageURL){
        alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        return;
    }

    db.collection("products").add({
        name,
        description,
        price,
        imageURL,
        createdAt: Date.now()
    })
    .then(()=>{
        alert("âœ” ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­");
    })
    .catch(err=>{
        alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£");
        console.log(err);
    });
}

</script>

</body>
</html>
