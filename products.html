<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>Maher Phone - المنتجات</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body{
        font-family:"Cairo", sans-serif;
        direction:rtl;
        margin:0;
        background:#0a0a0f;
        color:white;
        padding-bottom:80px;
    }

    header{
        background:#111;
        padding:20px;
        color:#00eaff;
        text-align:center;
        font-size:28px;
        font-weight:700;
        position:sticky;
        top:0;
        z-index:10;
        box-shadow:0 0 12px #00eaff55;
    }

    #products{
        display:grid;
        grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));
        gap:18px;
        padding:20px;
    }

    .card{
        background:#111;
        padding:12px;
        border-radius:16px;
        border:1px solid #00aaff33;
        box-shadow:0 0 12px #00aaff22;
        text-align:center;
    }

    .card img{
        width:100%;
        height:200px;
        object-fit:cover;
        border-radius:12px;
        margin-bottom:10px;
    }

    .price{
        color:#00ffaa;
        margin:6px 0;
        font-weight:700;
        text-shadow:0 0 8px #00ffaa;
    }

    /* زر الأدمن العائم */
    #admin-btn{
        position:fixed;
        bottom:20px;
        right:20px;
        width:55px;
        height:55px;
        background:#00eaff;
        color:#000;
        border-radius:50%;
        display:flex;
        justify-content:center;
        align-items:center;
        font-size:26px;
        font-weight:bold;
        cursor:pointer;
        box-shadow:0 0 15px #00eaffaa;
        z-index:999;
        transition:0.3s;
    }

    #admin-btn:hover{
        transform:scale(1.1);
        box-shadow:0 0 18px #00eaff;
    }

  </style>
</head>

<body>

<header>Maher Phone - المنتجات</header>

<div id="products"></div>

<!-- زر الأدمن ⚙️ -->
<div id="admin-btn" onclick="location.href='login.html'">⚙️</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="firebase.js"></script>

<script>

function loadProducts(){
    const container = document.getElementById("products");
    container.innerHTML = "<p style='width:100%;text-align:center'>⏳ جاري التحميل...</p>";

    db.collection("products").orderBy("createdAt","desc").get().then(snap=>{
        container.innerHTML = "";
        snap.forEach(doc=>{
            let p = doc.data();

            container.innerHTML += `
                <div class="card">
                    <img src="${p.imageURL}">
                    <h3>${p.name}</h3>
                    <p>${p.description}</p>
                    <p class="price">${p.price} جنيه</p>
                </div>
            `;
        });
    });
}

loadProducts();

</script>

</body>
</html>
